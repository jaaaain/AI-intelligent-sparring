{"ast":null,"code":"import { connect, sendMessage, addUser, subscribePublic } from \"@/services/WebSocketService\";\nexport default {\n  data() {\n    return {\n      username: '',\n      messages: [],\n      messageContent: ''\n    };\n  },\n  mounted() {\n    this.username = prompt('Enter your name:');\n    connect();\n  },\n  methods: {\n    // onConnected() {\n    //   addUser(this.username);\n    //   subscribePublic(this.onMessageReceived);\n    // },\n    // onMessageReceived(message) {\n    //   this.messages.push(message);\n    // },\n    // sendMessage() {\n    //   if (this.messageContent.trim()) {\n    //     sendMessage({ sender: this.username, content: this.messageContent, type: 'CHAT' });\n    //     this.messageContent = ''; // 清空输入框\n    //   }\n    // }\n  }\n};","map":{"version":3,"names":["connect","sendMessage","addUser","subscribePublic","data","username","messages","messageContent","mounted","prompt","methods"],"sources":["D:\\000Projects\\JAVA\\emp-train\\et-web\\src\\components\\WebSocketTest.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-for=\"message in messages\" :key=\"message.sender\">\n      <p><strong>{{ message.sender }}:</strong> {{ message.content }}</p>\n    </div>\n    \n    <input v-model=\"messageContent\" @keyup.enter=\"sendMessage\" placeholder=\"Type a message...\">\n    <button>send</button>\n  </div>\n</template>\n\n<script>\nimport { connect, sendMessage, addUser, subscribePublic } from \"@/services/WebSocketService\";\n\nexport default {\n  data() {\n    return {\n      username: '',\n      messages: [],\n      messageContent: ''\n    };\n  },\n  mounted() {\n    this.username = prompt('Enter your name:');\n    connect();\n  },\n  methods: {\n    // onConnected() {\n    //   addUser(this.username);\n    //   subscribePublic(this.onMessageReceived);\n    // },\n    // onMessageReceived(message) {\n    //   this.messages.push(message);\n    // },\n    // sendMessage() {\n    //   if (this.messageContent.trim()) {\n    //     sendMessage({ sender: this.username, content: this.messageContent, type: 'CHAT' });\n    //     this.messageContent = ''; // 清空输入框\n    //   }\n    // }\n  }\n};\n</script>\n"],"mappings":"AAYA,SAASA,OAAO,EAAEC,WAAW,EAAEC,OAAO,EAAEC,eAAc,QAAS,6BAA6B;AAE5F,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,cAAc,EAAE;IAClB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACH,QAAO,GAAII,MAAM,CAAC,kBAAkB,CAAC;IAC1CT,OAAO,CAAC,CAAC;EACX,CAAC;EACDU,OAAO,EAAE;IACP;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA;AAEJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}