{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"select\", null, null, -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.startTrain && _ctx.startTrain(...args))\n  }, \"开始训练\"), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.messageContent = $event),\n    placeholder: \"Type a message...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.messageContent]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.sendMessage && $options.sendMessage(...args))\n  }, \"send\"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.messages, message => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: message.sender\n    }, [_createElementVNode(\"p\", null, [_createElementVNode(\"strong\", null, _toDisplayString(message.sender) + \":\", 1 /* TEXT */), _createTextVNode(\" \" + _toDisplayString(message.content), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))]);\n}","map":{"version":3,"names":["_createElementBlock","_createElementVNode","onClick","_cache","args","_ctx","startTrain","$event","$data","messageContent","placeholder","$options","sendMessage","_Fragment","_renderList","messages","message","key","sender","_toDisplayString","_createTextVNode","content"],"sources":["D:\\000Projects\\JAVA\\emp-train\\et-web\\src\\components\\WebSocketTest.vue"],"sourcesContent":["<template>\n  <div>\n    <select>\n      \n    </select>\n    <button @click=\"startTrain\">开始训练</button>\n\n    <input v-model=\"messageContent\" placeholder=\"Type a message...\">\n    <button @click=\"sendMessage\">send</button>\n\n    <div v-for=\"message in messages\" :key=\"message.sender\">\n      <p><strong>{{ message.sender }}:</strong> {{ message.content }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      username: '',\n      messages: [],\n      messageContent: '',\n      websocket: null\n    };\n  },\n  mounted() {\n    this.connect();\n  },\n  methods: {\n    connect() {\n      let socketUrl = \"ws://localhost:8080/api/websocket/conversation/1\"\n      this.websocket = new WebSocket(socketUrl);\n      this.websocket.onmessage = function (message) {\n        console.log(message.data);\n      }\n    },\n    onMessageReceived(message) {\n      this.messages.push(message);\n    },\n    sendMessage() {\n      if (this.messageContent.trim()) {\n        const message = {\n          sender: this.username,\n          content: this.messageContent\n        };\n        this.websocket.send(JSON.stringify(message)); // websocket 发送消息\n        this.messages.push(message); // 消息历史\n        this.messageContent = ''; // 清空输入框\n      }\n    }\n  }\n};\n</script>\n"],"mappings":";;uBACEA,mBAAA,CAYM,c,0BAXJC,mBAAA,CAES,0CACTA,mBAAA,CAAyC;IAAhCC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAC,UAAA,IAAAD,IAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;KAAE,MAAI,G,gBAEhCH,mBAAA,CAAgE;IAPpE,uBAAAE,MAAA,QAAAA,MAAA,MAAAI,MAAA,IAOoBC,KAAA,CAAAC,cAAc,GAAAF,MAAA;IAAEG,WAAW,EAAC;iDAA5BF,KAAA,CAAAC,cAAc,E,GAC9BR,mBAAA,CAA0C;IAAjCC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEO,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAR,IAAA,CAAW;KAAE,MAAI,I,kBAEjCJ,mBAAA,CAEMa,SAAA,QAZVC,WAAA,CAU2BN,KAAA,CAAAO,QAAQ,EAAnBC,OAAO;yBAAnBhB,mBAAA,CAEM;MAF4BiB,GAAG,EAAED,OAAO,CAACE;QAC7CjB,mBAAA,CAAmE,YAAhEA,mBAAA,CAAsC,gBAAAkB,gBAAA,CAA3BH,OAAO,CAACE,MAAM,IAAG,GAAC,iBAXtCE,gBAAA,CAW+C,GAAC,GAAAD,gBAAA,CAAGH,OAAO,CAACK,OAAO,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}