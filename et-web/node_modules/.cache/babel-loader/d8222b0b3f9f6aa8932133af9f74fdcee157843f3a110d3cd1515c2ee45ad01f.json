{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.messages, message => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: message.sender\n    }, [_createElementVNode(\"p\", null, [_createElementVNode(\"strong\", null, _toDisplayString(message.sender) + \":\", 1 /* TEXT */), _createTextVNode(\" \" + _toDisplayString(message.content), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.messageContent = $event),\n    onKeyup: _cache[1] || (_cache[1] = _withKeys((...args) => _ctx.sendMessage && _ctx.sendMessage(...args), [\"enter\"])),\n    placeholder: \"Type a message...\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.messageContent]]), _cache[2] || (_cache[2] = _createElementVNode(\"button\", null, null, -1 /* HOISTED */))]);\n}","map":{"version":3,"names":["_createElementBlock","_Fragment","_renderList","$data","messages","message","key","sender","_createElementVNode","_toDisplayString","_createTextVNode","content","_cache","$event","messageContent","onKeyup","_withKeys","args","_ctx","sendMessage","placeholder"],"sources":["D:\\000Projects\\JAVA\\emp-train\\et-web\\src\\components\\WebSocketTest.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-for=\"message in messages\" :key=\"message.sender\">\n      <p><strong>{{ message.sender }}:</strong> {{ message.content }}</p>\n    </div>\n    \n    <input v-model=\"messageContent\" @keyup.enter=\"sendMessage\" placeholder=\"Type a message...\">\n    <button></button>\n  </div>\n</template>\n\n<script>\nimport { connect, sendMessage, addUser, subscribePublic } from \"@/services/WebSocketService\";\n\nexport default {\n  data() {\n    return {\n      username: '',\n      messages: [],\n      messageContent: ''\n    };\n  },\n  mounted() {\n    this.username = prompt('Enter your name:');\n    connect();\n  },\n  methods: {\n    // onConnected() {\n    //   addUser(this.username);\n    //   subscribePublic(this.onMessageReceived);\n    // },\n    // onMessageReceived(message) {\n    //   this.messages.push(message);\n    // },\n    // sendMessage() {\n    //   if (this.messageContent.trim()) {\n    //     sendMessage({ sender: this.username, content: this.messageContent, type: 'CHAT' });\n    //     this.messageContent = ''; // 清空输入框\n    //   }\n    // }\n  }\n};\n</script>\n"],"mappings":";;uBACEA,mBAAA,CAOM,e,kBANJA,mBAAA,CAEMC,SAAA,QAJVC,WAAA,CAE2BC,KAAA,CAAAC,QAAQ,EAAnBC,OAAO;yBAAnBL,mBAAA,CAEM;MAF4BM,GAAG,EAAED,OAAO,CAACE;QAC7CC,mBAAA,CAAmE,YAAhEA,mBAAA,CAAsC,gBAAAC,gBAAA,CAA3BJ,OAAO,CAACE,MAAM,IAAG,GAAC,iBAHtCG,gBAAA,CAG+C,GAAC,GAAAD,gBAAA,CAAGJ,OAAO,CAACM,OAAO,iB;kDAG9DH,mBAAA,CAA2F;IAN/F,uBAAAI,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAMoBV,KAAA,CAAAW,cAAc,GAAAD,MAAA;IAAGE,OAAK,EAAAH,MAAA,QAAAA,MAAA,MAN1CI,SAAA,KAAAC,IAAA,KAMkDC,IAAA,CAAAC,WAAA,IAAAD,IAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;IAAEG,WAAW,EAAC;iEAAvDjB,KAAA,CAAAW,cAAc,E,6BAC9BN,mBAAA,CAAiB,yC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}