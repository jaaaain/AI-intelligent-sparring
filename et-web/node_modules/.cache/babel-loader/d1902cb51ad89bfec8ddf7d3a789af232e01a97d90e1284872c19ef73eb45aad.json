{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      username: '',\n      selectedOption: '',\n      messages: [],\n      messageContent: '',\n      websocket: null\n    };\n  },\n  mounted() {\n    this.connect();\n  },\n  methods: {\n    startTrain() {},\n    connect() {\n      let socketUrl = \"ws://localhost:8080/api/websocket/conversation/1\";\n      this.websocket = new WebSocket(socketUrl);\n      this.websocket.onmessage = function (message) {\n        console.log(message.data);\n      };\n    },\n    onMessageReceived(message) {\n      this.messages.push(message);\n    },\n    sendMessage() {\n      if (this.messageContent.trim()) {\n        const message = {\n          sender: this.username,\n          content: this.messageContent\n        };\n        this.websocket.send(JSON.stringify(message)); // websocket 发送消息\n        this.messages.push(message); // 消息历史\n        this.messageContent = ''; // 清空输入框\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","username","selectedOption","messages","messageContent","websocket","mounted","connect","methods","startTrain","socketUrl","WebSocket","onmessage","message","console","log","onMessageReceived","push","sendMessage","trim","sender","content","send","JSON","stringify"],"sources":["D:\\000Projects\\JAVA\\emp-train\\et-web\\src\\components\\WebSocketTest.vue"],"sourcesContent":["<template>\n  <div>\n    <label for=\"options\">请选择训练模式:</label>\n    <select v-model=\"selectedOption\" id=\"options\">\n      <option value=\"1\" selected=\"selected\">模式1</option>\n      <option value=\"2\">模式2</option>\n      <option value=\"3\">模式3</option>\n      <option value=\"4\">模式4</option>\n    </select>\n    <button @click=\"startTrain\">开始训练</button>\n    <br>\n    <input v-model=\"messageContent\" placeholder=\"Type a message...\">\n    <button @click=\"sendMessage\">send</button>\n\n    <div v-for=\"message in messages\" :key=\"message.sender\">\n      <p><strong>{{ message.sender }}:</strong> {{ message.content }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      username: '',\n      selectedOption:'',\n      messages: [],\n      messageContent: '',\n      websocket: null\n    };\n  },\n  mounted() {\n    this.connect();\n  },\n  methods: {\n    startTrain(){\n\n    },\n    connect() {\n      let socketUrl = \"ws://localhost:8080/api/websocket/conversation/1\"\n      this.websocket = new WebSocket(socketUrl);\n      this.websocket.onmessage = function (message) {\n        console.log(message.data);\n      }\n    },\n    onMessageReceived(message) {\n      this.messages.push(message);\n    },\n    sendMessage() {\n      if (this.messageContent.trim()) {\n        const message = {\n          sender: this.username,\n          content: this.messageContent\n        };\n        this.websocket.send(JSON.stringify(message)); // websocket 发送消息\n        this.messages.push(message); // 消息历史\n        this.messageContent = ''; // 清空输入框\n      }\n    }\n  }\n};\n</script>\n"],"mappings":";AAqBA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,cAAc,EAAC,EAAE;MACjBC,QAAQ,EAAE,EAAE;MACZC,cAAc,EAAE,EAAE;MAClBC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,OAAO,CAAC,CAAC;EAChB,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAE,CAEZ,CAAC;IACDF,OAAOA,CAAA,EAAG;MACR,IAAIG,SAAQ,GAAI,kDAAiD;MACjE,IAAI,CAACL,SAAQ,GAAI,IAAIM,SAAS,CAACD,SAAS,CAAC;MACzC,IAAI,CAACL,SAAS,CAACO,SAAQ,GAAI,UAAUC,OAAO,EAAE;QAC5CC,OAAO,CAACC,GAAG,CAACF,OAAO,CAACb,IAAI,CAAC;MAC3B;IACF,CAAC;IACDgB,iBAAiBA,CAACH,OAAO,EAAE;MACzB,IAAI,CAACV,QAAQ,CAACc,IAAI,CAACJ,OAAO,CAAC;IAC7B,CAAC;IACDK,WAAWA,CAAA,EAAG;MACZ,IAAI,IAAI,CAACd,cAAc,CAACe,IAAI,CAAC,CAAC,EAAE;QAC9B,MAAMN,OAAM,GAAI;UACdO,MAAM,EAAE,IAAI,CAACnB,QAAQ;UACrBoB,OAAO,EAAE,IAAI,CAACjB;QAChB,CAAC;QACD,IAAI,CAACC,SAAS,CAACiB,IAAI,CAACC,IAAI,CAACC,SAAS,CAACX,OAAO,CAAC,CAAC,EAAE;QAC9C,IAAI,CAACV,QAAQ,CAACc,IAAI,CAACJ,OAAO,CAAC,EAAE;QAC7B,IAAI,CAACT,cAAa,GAAI,EAAE,EAAE;MAC5B;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}